# 搜索实战

### 1 版本崩溃

一般的二分搜索很容易写出来，真正的搜索相关的题目如下：

有一个产品发布了多个版本。他们遵循以下规律：如果某个版本崩溃了，则后面的所有版本都会崩溃。

例如：一个产品有5个版本，其中1-3版本都是正常的，但是第4个版本崩溃了，那么第5个版本一定也会崩溃。第4个版本被称为第一个崩溃的版本。

现在已知一个产品有n个版本，而且有一个检测算法 func isBadVersion(version: Int) -> Bool 可以判断一个版本是否崩溃。假设这个版本的最新版本崩溃了，求第一个崩溃的版本。

使用二分搜索很容易求解

### 2 搜索旋转有序数组

一个有序数组可能在某个位置旋转了。给定一个目标值，查找并返回这个元素在数组中的位置，如果不存在返回-1。假设数组中没有重复值。

例如：[0, 1, 2, 4, 5, 6, 7]在4这个数字上旋转后变为[4, 5, 6, 7, 0, 1, 2]，搜索4返回0，搜索8则返回-1。

如果数组没有被旋转，可以采用二分搜索解决。旋转后，可以用二分搜索和递归思想解决。

思路：考虑旋转之后的情况。第一种情况，旋转点靠前，旋转之后的左边部分是有序的，可以使用二分搜索；旋转点靠后，旋转之后的右边部分是有序的，可以使用二分搜索。剩余部分则可以递归的进行处理。

思考：假如旋转后的数组中有重复值，比如[3, 4, 5, 3, 3, 3]，那么该怎么处理？
